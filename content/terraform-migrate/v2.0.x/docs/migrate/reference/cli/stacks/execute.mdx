---
page_title: tf-migrate stacks execute reference
description: >-
  The `tf-migrate stacks execute` command runs a prepared migration plan to move your HCP Terraform workspace to a Stack.
# START AUTO GENERATED METADATA, DO NOT EDIT
created_at: 2025-11-06T08:59:10-05:00
last_modified: 2025-12-04T08:49:13-05:00
# END AUTO GENERATED METADATA
---

# `tf-migrate stacks execute` reference

The `tf-migrate stacks execute` command directs Terraform to run the `init`, `plan`, and `apply` commands on the configuration generated with the `tf-migrate stacks prepare` command and migrate your HCP Terraform workspace and state to a Stack.

@include "stacks.mdx"

## Usage

```
$ tf-migrate stacks execute
```

## Description

The `tf-migrate stacks execute` command creates the project and Stack in HCP Terraform and migrates the existing state.

When `tf-migrate` completes the migration, it displays a link to the Stack it created and the project it created it in.

## Example

The `tf-migrate execute` command automatically performs the migration and code updates. 

```
$ tf-migrate stacks execute
✓ Stack configuration path found: /tmp/my-workspace/modularized_config/_stacks_generated
✓ Successfully validated stack configuration found in dir: /tmp/my-workspace/modularized_config/_stacks_generated
✓ Using dir: /tmp/my-workspace/modularized_config/stacks_migration_infra for terraform operations
✓ Init command ran successfully
✓ Plan command ran successfully and changes are detected
✓ Apply command ran successfully in 55.73248925s
Apply complete! Resources: 3 added, 0 changed, 0 destroyed.


Migration Summary
┌─────────┬────────────────────────────────────────────────────────────────────────────────────────────────┐
│ Item    │ URL                                                                                            │
├─────────┼────────────────────────────────────────────────────────────────────────────────────────────────┤
│ Project │ https://app.terraform.io/app/<ORG>/projects/prj-a1b2c3d4e5f6g7h8                               │
│ Stack   │ https://app.terraform.io/app/<ORG>/projects/prj-a1b2c3d4e5f6g7h8/stacks/st-a1b2c3d4e5f6g7h8    │
└─────────┴────────────────────────────────────────────────────────────────────────────────────────────────┘

Terraform Migrate has successfully executed the migration plan for your stack.
Please verify the migration in the HCP Terraform UI.

Next Steps:
  1. Visit https://app.terraform.io/app/<ORG>/projects/prj-a1b2c3d4e5f6g7h8/stacks/st-a1b2c3d4e5f6g7h8.
  2. Review the uploaded configuration and confirm it has been applied successfully.
  3. Ensure all deployments under the stacks have completed. You may need to approve some plans.
  4. If you encounter issues, refer to the diagnostics in the UI and follow this troubleshooting guide:
      a. If there are configuration errors, review your stack configurations in _stacks_generated and resolve them.
      b. Delete the stack and project from the HCP Terraform UI if necessary.
      c. Remove the `.terraform` and `terraform.tfstate` files from the stacks_migration_infra directory on your local machine.
      d. Run `tf-migrate stacks execute` again to re-create the stacks and upload the corrected configuration.
  5. For post-migration guidance, see: https://developer.hashicorp.com/terraform/migrate/v2.0.x/stacks#next-steps
```
