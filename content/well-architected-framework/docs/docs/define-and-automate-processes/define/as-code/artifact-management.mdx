---
page_title: Manage artifact repositories as code
description: Manage Artifactory and Nexus repositories as code to standardize dependency management, enforce security policies, ensure consistent access control, and automate repository configuration.
# START AUTO GENERATED METADATA, DO NOT EDIT
created_at: 2026-01-23T15:30:59-06:00
last_modified: 2026-02-04T15:37:21-06:00
# END AUTO GENERATED METADATA
---

# Manage artifact repositories as code

Manually configuring artifact repositories can create inconsistent settings across environments, security gaps in access control, and configuration drift. Managing artifact repositories as code with Terraform lets you standardize repository configuration, enforce access policies, automate proxy setup for package managers, and ensure consistent artifact management across your organization.

Artifact repositories like JFrog Artifactory, Sonatype Nexus, and Azure Artifacts serve as central hubs for build artifacts and dependency packages. While teams use these repositories to store and retrieve packages, the repositories themselves require configuration. Terraform can manage artifact repository configuration across different platforms, ensuring consistent setup and enabling infrastructure as code practices for your build infrastructure.

## Why manage artifact repositories as code

Managing artifact repository configuration as code addresses the following operational and security challenges:

**Reduce configuration drift:** Managing repositories as code promotes identical configuration across your environments, with variations defined in code rather than through manual changes.

**Enforce security policies:** Terraform lets you enforce consistent access control, scanning policies, and artifact retention rules across all repositories from a single configuration.

**Reduce repository management:** Terraform lets you automate repository creation and configuration, letting you provision dozens of repositories with standardized settings.

**Enable audit and compliance tracking:** Terraform stores configuration in version control to create comprehensive audit trails with commit history and approval workflows.

## How to manage artifact repositories as code

Terraform lets you manage artifact repositories through providers. Providers map your repository platform's API, such as Artifactory or Nexus, to Terraform resources so you can review and apply repository configuration consistently.

To manage artifact repositories as code, find your repository platform's Terraform provider, define repository configurations in Terraform files, and apply the configuration to create or update repositories.

For example, if you are using JFrog Artifactory, you can use the [Artifactory Terraform provider](https://registry.terraform.io/providers/jfrog/artifactory/latest/docs) to define repositories, access control, and proxy settings. Refer to [Artifact management Terraform providers](#hashicorp-resources) for additional providers including Nexus, Azure Artifacts, and AWS CodeArtifact. 

## Secure artifact repository credentials with Vault

After defining artifact repositories as code, secure the credentials used to authenticate to these repositories. Store artifact repository credentials in Vault to centralize secret management, enable automatic credential rotation, and maintain comprehensive audit logs. Vault issues dynamic, short-lived credentials to CI/CD pipelines and build systems, significantly reducing the risk of credential compromise.

The following example shows how Terraform retrieves Artifactory credentials from Vault:

<CodeBlockConfig filename="vault-artifactory.tf">

```hcl
terraform {
  required_providers {
    vault = {
      source  = "hashicorp/vault"
      version = "~> 4.0"
    }
    artifactory = {
      source  = "jfrog/artifactory"
      version = "~> 12.3"
    }
  }
}

# Retrieve Artifactory credentials from Vault
data "vault_kv_secret_v2" "artifactory" {
  mount = "secret"
  name  = "artifactory/admin"
}

# Configure Artifactory provider with Vault-sourced credentials
provider "artifactory" {
  url          = "https://artifactory.example.com/artifactory"
  access_token = data.vault_kv_secret_v2.artifactory.data["access_token"]
}

# Create repository with credentials from Vault
resource "artifactory_local_pypi_repository" "pypi-libs" {
  key             = "pypi-libs"
  repo_layout_ref = "simple-default"
  description     = "A pypi repository for python packages"
}
```

</CodeBlockConfig>

The configuration retrieves Artifactory credentials from Vault's secret store and removes hardcoded credentials from Terraform configurations. Store your artifact repository credentials in Vault using the Vault CLI or API before using this pattern. Vault's audit logs track all credential access, providing visibility into artifact repository authentication. When you rotate credentials in Vault, CI/CD pipelines and Terraform automatically use the updated credentials without configuration changes.

## Enforce artifact repository policies with Sentinel

Use Sentinel policies to enforce artifact repository configuration standards across your organization. Sentinel validates Terraform plans before execution, ensuring all artifact repositories meet security and compliance requirements.

For example, you can create policies that require all repositories to have descriptions for documentation, enforce specific repository layouts, or validate that repositories follow your organization's naming conventions. Terraform plans that create non-compliant repositories fail the policy check, preventing misconfigured artifact repositories from reaching production.

## Integrate artifact repositories with CI/CD

After configuring artifact repositories as code, integrate them with your CI/CD pipelines to automate artifact publishing and retrieval. Your CI/CD workflows authenticate to your artifact repository using credentials retrieved from Vault and publish build artifacts or pull dependencies for application builds. Refer to [Implement CI/CD](/well-architected-framework/define-and-automate-processes/automate/cicd) for guidance on integrating artifact repositories with your deployment pipelines.

## HashiCorp resources

- [Centralize packages and dependencies](/well-architected-framework/define-and-automate-processes/define/centralize-packages)
- [Define infrastructure as code](/well-architected-framework/define-and-automate-processes/define/as-code/infrastructure)
- [Use version control](/well-architected-framework/define-and-automate-processes/define/version-control)

Learn Terraform for artifact management:

- Get started with [Terraform tutorials](/terraform/tutorials) and read the [Terraform documentation](/terraform/docs) for infrastructure as code
- Browse [Terraform providers](/terraform/docs/providers) for artifact repository integrations
- Review the [Terraform Registry documentation](/terraform/registry) for provider versioning and module usage

Artifact management Terraform providers:

- Read the [Artifactory provider documentation](https://registry.terraform.io/providers/jfrog/artifactory/latest/docs)
- Read the [Nexus provider documentation](https://registry.terraform.io/providers/datadrivers/nexus/latest/docs)
- Read the [AWS CodeArtifact documentation](https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/codeartifact_repository)
- Read the [Azure Artifacts documentation](https://registry.terraform.io/providers/microsoft/azuredevops/latest/docs/resources/azuredevops_feed)

Secure credentials with Vault:

- Get started with [Vault tutorials](/vault/tutorials) and read the [Vault documentation](/vault/docs)
- Learn about [Vault secrets engines](/vault/docs/secrets) for managing artifact repository credentials
- Read the [Vault Terraform provider documentation](https://registry.terraform.io/providers/hashicorp/vault/latest/docs) for integration examples
- Explore [dynamic secrets](/vault/docs/secrets/databases) for automated credential rotation

Enforce policies with Sentinel:

- Learn about [Sentinel policy as code](/terraform/cloud-docs/policy-enforcement/sentinel) for governance
- Read the [Sentinel language documentation](/sentinel/docs/language) for policy syntax
- Explore [Sentinel policy examples](https://github.com/hashicorp/terraform-sentinel-policies) for common patterns
- Learn to [test Sentinel policies](/terraform/cloud-docs/policy-enforcement/sentinel/testing) before deployment

## Next steps

In this section of [Codify infrastructure and tools](/well-architected-framework/define-and-automate-processes/define/as-code), you learned how to manage artifact repository configuration as code to standardize dependency management, enforce security policies, and ensure consistent package access. You explored how Terraform configures Artifactory and Nexus repositories with access control, proxying, and retention policies. Manage artifact repositories as code is part of the [Define and automate processes pillar](/well-architected-framework/define-and-automate-processes).

Visit the following documents to continue building your automation strategy:

- [Implement CI/CD](/well-architected-framework/define-and-automate-processes/automate/cicd) to automate artifact publishing and deployment
- [Create reusable modules](/well-architected-framework/define-and-automate-processes/define/modules) to standardize artifact repository configurations
- [Implement testing](/well-architected-framework/define-and-automate-processes/automate/testing) to validate artifact repository configurations
